<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="theme-color" content="#1a0a2e">
<title>ğŸ‚ ×™×•× ×”×•×œ×“×ª 18</title>
<link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;700;900&family=Playfair+Display:ital@0;1&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/html5-qrcode/2.3.8/html5-qrcode.min.js"></script>
<style>
  :root {
    --gold: #f0c060;
    --gold-light: #fde8a0;
    --rose: #e8788a;
    --deep: #1a0a2e;
    --deep2: #2d1054;
    --cream: #fff8f0;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--deep);
    color: var(--cream);
    font-family: 'Heebo', sans-serif;
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* Stars background */
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background-image:
      radial-gradient(1px 1px at 20% 30%, rgba(255,255,255,0.8) 0%, transparent 100%),
      radial-gradient(1px 1px at 80% 10%, rgba(255,255,255,0.6) 0%, transparent 100%),
      radial-gradient(1.5px 1.5px at 50% 50%, rgba(240,192,96,0.6) 0%, transparent 100%),
      radial-gradient(1px 1px at 10% 70%, rgba(255,255,255,0.5) 0%, transparent 100%),
      radial-gradient(1px 1px at 90% 60%, rgba(255,255,255,0.7) 0%, transparent 100%),
      radial-gradient(1px 1px at 30% 90%, rgba(255,255,255,0.4) 0%, transparent 100%),
      radial-gradient(1.5px 1.5px at 70% 80%, rgba(232,120,138,0.5) 0%, transparent 100%),
      radial-gradient(1px 1px at 60% 20%, rgba(255,255,255,0.6) 0%, transparent 100%);
    pointer-events: none;
    z-index: 0;
  }

  .page {
    position: relative;
    z-index: 1;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 30px 20px;
  }

  /* ===== WELCOME PAGE ===== */
  #welcome-page .number-18 {
    font-family: 'Playfair Display', serif;
    font-size: clamp(100px, 35vw, 180px);
    font-style: italic;
    color: transparent;
    -webkit-text-stroke: 2px var(--gold);
    line-height: 1;
    letter-spacing: -5px;
    animation: shimmer 3s ease-in-out infinite;
    position: relative;
  }

  @keyframes shimmer {
    0%, 100% { -webkit-text-stroke-color: var(--gold); }
    50% { -webkit-text-stroke-color: var(--gold-light); }
  }

  #welcome-page h1 {
    font-size: clamp(24px, 8vw, 42px);
    font-weight: 900;
    color: var(--cream);
    text-align: center;
    margin-top: -10px;
    line-height: 1.2;
  }

  #welcome-page .subtitle {
    font-size: clamp(14px, 4vw, 18px);
    color: var(--gold-light);
    text-align: center;
    margin-top: 10px;
    font-weight: 300;
    opacity: 0.85;
  }

  .divider {
    width: 80px;
    height: 2px;
    background: linear-gradient(to right, transparent, var(--gold), transparent);
    margin: 25px auto;
  }

  .instruction {
    text-align: center;
    color: rgba(255,248,240,0.7);
    font-size: 15px;
    line-height: 1.7;
    max-width: 280px;
  }

  .scan-btn {
    margin-top: 35px;
    background: linear-gradient(135deg, var(--gold), var(--rose));
    border: none;
    border-radius: 50px;
    padding: 18px 50px;
    color: var(--deep);
    font-family: 'Heebo', sans-serif;
    font-size: 18px;
    font-weight: 700;
    cursor: pointer;
    box-shadow: 0 8px 30px rgba(240,192,96,0.3);
    transition: transform 0.2s, box-shadow 0.2s;
    letter-spacing: 1px;
  }

  .scan-btn:active {
    transform: scale(0.96);
    box-shadow: 0 4px 15px rgba(240,192,96,0.2);
  }

  .gift-icons {
    font-size: 28px;
    letter-spacing: 8px;
    margin-bottom: 20px;
    animation: float 4s ease-in-out infinite;
  }

  @keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-8px); }
  }

  /* ===== SCANNER PAGE ===== */
  #scanner-page {
    justify-content: flex-start;
    padding-top: 20px;
  }

  #scanner-page h2 {
    font-size: 22px;
    font-weight: 700;
    color: var(--gold);
    text-align: center;
    margin-bottom: 15px;
  }

  #reader {
    width: 100%;
    max-width: 340px;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 0 40px rgba(240,192,96,0.25);
    border: 2px solid rgba(240,192,96,0.3);
  }

  #reader video {
    border-radius: 18px;
  }

  .scan-hint {
    text-align: center;
    color: rgba(255,248,240,0.6);
    font-size: 14px;
    margin-top: 15px;
  }

  .back-btn {
    background: transparent;
    border: 1px solid rgba(240,192,96,0.4);
    border-radius: 30px;
    padding: 10px 25px;
    color: var(--gold);
    font-family: 'Heebo', sans-serif;
    font-size: 14px;
    cursor: pointer;
    margin-top: 20px;
    transition: background 0.2s;
  }

  .back-btn:active { background: rgba(240,192,96,0.1); }

  /* ===== BLESSING PAGE ===== */
  #blessing-page {
    display: flex;
    justify-content: center;
  }

  .blessing-card {
    background: linear-gradient(145deg, var(--deep2), #3d1570);
    border: 1px solid rgba(240,192,96,0.35);
    border-radius: 28px;
    padding: 40px 30px;
    max-width: 360px;
    width: 100%;
    box-shadow: 0 20px 60px rgba(0,0,0,0.5), inset 0 1px 0 rgba(255,255,255,0.1);
    animation: cardIn 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
    text-align: center;
  }

  @keyframes cardIn {
    from { opacity: 0; transform: scale(0.7) translateY(40px); }
    to { opacity: 1; transform: scale(1) translateY(0); }
  }

  .blessing-emoji {
    font-size: 52px;
    margin-bottom: 10px;
    animation: popIn 0.4s 0.3s both cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  @keyframes popIn {
    from { transform: scale(0); }
    to { transform: scale(1); }
  }

  .gift-name {
    font-size: 13px;
    text-transform: uppercase;
    letter-spacing: 3px;
    color: var(--gold);
    margin-bottom: 8px;
    font-weight: 700;
  }

  .blessing-title {
    font-family: 'Playfair Display', serif;
    font-size: 22px;
    font-style: italic;
    color: var(--gold-light);
    margin-bottom: 20px;
    line-height: 1.4;
  }

  .blessing-text {
    font-size: 16px;
    line-height: 1.8;
    color: var(--cream);
    font-weight: 300;
  }

  .blessing-hearts {
    margin-top: 25px;
    font-size: 20px;
    letter-spacing: 5px;
  }

  .scan-again-btn {
    margin-top: 30px;
    background: linear-gradient(135deg, var(--gold), var(--rose));
    border: none;
    border-radius: 50px;
    padding: 14px 35px;
    color: var(--deep);
    font-family: 'Heebo', sans-serif;
    font-size: 16px;
    font-weight: 700;
    cursor: pointer;
    width: 100%;
    transition: opacity 0.2s;
  }

  .scan-again-btn:active { opacity: 0.85; }

  .hidden { display: none; }
</style>
</head>
<body>

<!-- WELCOME PAGE -->
<div id="welcome-page" class="page">
  <div class="gift-icons">ğŸâœ¨ğŸ‚</div>
  <div class="number-18">18</div>
  <h1>×™×•× ×”×•×œ×“×ª<br>×©××— ×”×“×¨!</h1>
  <p class="subtitle">18 ×©× ×” ×©×œ ××•×©×¨, ×’××•×•×” ×•××”×‘×”</p>
  <div class="divider"></div>
  <p class="instruction">×¡×¨×§×™ ××ª ×”×‘×¨×§×•×“ ×¢×œ ×›×œ ××ª× ×”<br>×›×“×™ ×œ×’×œ×•×ª ××ª ×”×‘×¨×›×” ×”×™×™×—×•×“×™×ª</p>
  <button class="scan-btn" onclick="startScanner()">ğŸ“· ×¡×¨×§×™ ×‘×¨×§×•×“</button>
</div>

<!-- SCANNER PAGE -->
<div id="scanner-page" class="page hidden">
  <h2>âœ¨ ×›×•×•× × ×™ ××ª ×”××¦×œ××” ×œ×‘×¨×§×•×“</h2>
  <div id="reader"></div>
  <p class="scan-hint">×”×§×¨×‘ ××ª ×”×˜×œ×¤×•×Ÿ ×œ×‘×¨×§×•×“ ×©×¢×œ ×”××ª× ×”</p>
  <button class="back-btn" onclick="stopScanner()">â† ×—×–×¨×”</button>
</div>

<!-- BLESSING PAGE -->
<div id="blessing-page" class="page hidden">
  <div class="blessing-card">
    <div class="blessing-emoji" id="blessing-emoji">ğŸ</div>
    <div class="gift-name" id="gift-name"></div>
    <div class="blessing-text" id="blessing-text"></div>
    <div class="blessing-hearts">ğŸ’›ğŸ’œğŸ’›</div>
  </div>
  <button class="scan-again-btn" onclick="scanAgain()">×¡×¨×§×™ ××ª× ×” × ×•×¡×¤×ª ğŸ</button>
</div>

<script>
const blessings = {
  "GIFT-01": {
    emoji: "ğŸª·",
    name: "×›×¨×™×ª ×œ×‘ ×¤×¨×•×•×ª×™×ª",
    text: "×©×ª××™×“ ×ª×”×™×™ ××•×§×¤×ª ×‘××”×‘×” â€“ ×¨×›×”, ×¢×•×˜×¤×ª, ×•×‘×œ×™ ×’×‘×•×œ×•×ª."
  },
  "GIFT-02": {
    emoji: "ğŸŒ™",
    name: "×¡×˜ ××¦×¢×™×",
    text: "×©×©×•× ××‘×—×Ÿ ××• × ×™×ª×•×— × ×ª×•× ×™× ×œ× ×™×× ×¢ ×××š ×©× ×ª ×œ×™×œ×” ×˜×•×‘×” ×‘×××ª. ×—×œ×•××•×ª ××ª×•×§×™×!"
  },
  "GIFT-03": {
    emoji: "âœ¨",
    name: "××¨××”",
    text: "×©×ª××™×“ ×ª×“×¢×™ ×œ×”×¡×ª×›×œ ×¢×œ ×¢×¦××š ×•×œ×¨××•×ª ×‘×“×™×•×§ ××ª ×”×™×•×¤×™, ×”×—×•×›××” ×•×”×§×¡× ×©×× ×—× ×• ×¨×•××™× ×‘×š."
  },
  "GIFT-04": {
    emoji: "ğŸŒ±",
    name: "×¢×¦×™×¥",
    text: "×©×ª××©×™×›×™ ×œ×¦××•×—, ×œ×¤×¨×•×— ×•×œ×”×›×•×ª ×©×•×¨×©×™× ×¢××•×§×™× ×©×œ ×¢×¨×›×™×, ×‘×›×œ ××§×•× ×©××œ×™×• ×ª×œ×›×™."
  },
  "GIFT-05": {
    emoji: "ğŸ““",
    name: "××—×‘×¨×ª ×¡×¤×™×¨×œ×” ××¢×•×¦×‘×ª",
    text: "×œ×›×ª×•×‘ ××ª ×”×—×œ×•××•×ª, ×”×ª×•×›× ×™×•×ª ×œ×¢×ª×™×“, ×•×›××•×‘×Ÿ â€“ ××ª ×©××™×œ×ª×•×ª ×”×—×™×™× ×©××—×›×•×ª ×œ×š ×‘×—×•×¥."
  },
  "GIFT-06": {
    emoji: "ğŸ“",
    name: "××˜×‘×™ × ×™×™×¨",
    text: "×›×œ×™ ×¢×–×¨ ×§×˜×Ÿ ×©×™×¢×–×•×¨ ×œ×š ×œ×”×—×–×™×§ ×”×›×œ ×™×—×“ ×•×œ×©××•×¨ ×¢×œ ×¡×“×¨, ×’× ×›×©×”×©×’×¨×” ×©×œ ×™\"×‘ ×§×¦×ª ××‘×•×œ×’× ×ª."
  },
  "GIFT-07": {
    emoji: "ğŸ§¦",
    name: "×’×¨×‘×™×™× ××•×“×¤×¡×™×",
    text: "×©×ª××™×“ ×ª×¦×¢×“×™ ×‘×“×¨×›×™× ×¦×‘×¢×•× ×™×•×ª ×•×©××—×•×ª, ×•×ª×©××™×¨×™ ×—×•×ª× ×™×™×—×•×“×™ ×‘×©×™×¨×•×ª ×”×œ××•××™ ×•×‘×›×œ×œ."
  },
  "GIFT-08": {
    emoji: "ğŸ›",
    name: "××’×‘×ª ×œ×¢×˜×™×¤×ª ×©×™×¢×¨",
    text: "×›×™ ×’× ×œ×× ×œ×™×¡×˜×™×ª ×”×›×™ ×—×“×” ×¢×•×‘×“×ª×™×ª ××’×™×¢ ×¨×’×¢ ×©×œ ×¡×¤×, ×©×§×˜ ×•×¤×™× ×•×§ ×‘×¡×•×£ ×”×™×•×."
  },
  "GIFT-09": {
    emoji: "ğŸ¤",
    name: "×—×‘×™×œ×ª ×˜×™×©×™×•",
    text: "×œ××—×•×ª ×“××¢×•×ª ×©×œ ×¦×—×•×§, ×©×œ ×”×ª×¨×’×©×•×ª, ×•×œ×¤×¢××™× ×’× ×©×œ ×§×•×©×™ â€“ ×× ×—× ×• ×ª××™×“ ×¤×” ×‘×©×‘×™×œ×š."
  },
  "GIFT-10": {
    emoji: "ğŸŒŠ",
    name: "×¡×‘×•×Ÿ",
    text: "×©×ª××™×“ ×ª×¨×’×™×©×™ ×¨×¢× × ×”, ××œ××ª ×× ×¨×’×™×”, ×•××•×›× ×” ×œ××ª×’×¨ ×”×‘× ×©×”×—×™×™× ××¦×™×‘×™×."
  },
  "GIFT-11": {
    emoji: "ğŸ°",
    name: "×ª×‘× ×™×ª ××¤×™×™×” ×•×•×¨×•×“×”",
    text: "×©×ª××™×“ ×™×”×™×” ×œ×š ×˜×¢× ××ª×•×§ ×‘×—×™×™× (×•×©×œ× ×ª×©×›×—×™ ×œ××¤×•×ª ××©×”×• ×˜×¢×™× ×œ××—×™× ×©×œ×š ×›×©××ª ×‘××” ×œ×‘×§×¨...)."
  },
  "GIFT-12": {
    emoji: "ğŸ",
    name: "×§×•×¤×¡×ª ×¤×— ×¢× ×“×‘×•×¨×™×",
    text: "×©×ª×”×™×™ ×—×¨×•×¦×” ×•×—×“×•×¨×ª ××˜×¨×” ×›××• ×“×‘×•×¨×”, ××‘×œ ×ª××™×“ ×ª×“×¢×™ ×’× ×œ×¢×¦×•×¨ ×œ××¡×•×£ ××ª ×”×“×‘×©."
  },
  "GIFT-13": {
    emoji: "ğŸ‘œ",
    name: "× ×¨×ª×™×§ ×œ×‘×Ÿ ×¢× ×¨×•×›×¡×Ÿ",
    text: "××§×•× ×‘×˜×•×— ×œ×©××•×¨ ×‘×• ××ª ×›×œ ×”×“×‘×¨×™× ×”×§×˜× ×™× ×•×”×—×©×•×‘×™× ×©×™×œ×•×• ××•×ª×š ×‘×¤×¨×§ ×”×—×“×© ×©×œ ×—×™×™×š."
  },
  "GIFT-14": {
    emoji: "ğŸ¿ï¸",
    name: "×‘×•×‘×ª ×¡× ××™",
    text: "×›×™ ×›×•×œ× ×• ×¦×¨×™×›×™× ×œ×¤×¢××™× ××©×”×• ×§×˜×Ÿ ×œ×—×‘×§, ×’× ×›×©×× ×—× ×• ×›×‘×¨ ×—×•×§×™×™× ×‘× ×™ 18."
  },
  "GIFT-15": {
    emoji: "âœ¡ï¸",
    name: "×ª×’×™×•×ª '×¢× ×™×©×¨××œ ×—×™'",
    text: "×”××¦×¤×Ÿ ×©×œ×š. ×©×ª××™×“ ×ª×–×›×¨×™ ×××™×¤×” ×‘××ª, ××”× ×”×¢×¨×›×™× ×©×œ× ×•, ×•××™ ×©×•××¨ ×¢×œ×™×™×š ××œ××¢×œ×”."
  },
  "GIFT-16": {
    emoji: "ğŸ’†",
    name: "××¡××’'×¨",
    text: "×œ×©×—×¨×¨ ××ª ×›×œ ×”×œ×—×¥ ×©×œ ×”×‘×’×¨×•×™×•×ª! ×× ×™ ×—×•×ª× ×œ×š ××§×¦×•×¢×™×ª â€“ ×”×ª×•×¦××•×ª ×©×œ×š ×™×”×™×• ××¢×•×œ×•×ª."
  },
  "GIFT-17": {
    emoji: "ğŸ«",
    name: "×©×•×§×•×œ×“ ×§×™× ×“×¨ ×‘×•×× ×• ×œ×‘×Ÿ",
    text: "×§×¦×ª ×× ×¨×’×™×” ××ª×•×§×”. ×›×™ ×œ×¤×¢××™× ×¦×¨×™×š ×œ×¢×©×•×ª ×”×¤×¡×§×” ××›×œ ×”× ×ª×•× ×™×, ×”××‘×—× ×™× ×•×”×œ×—×¥ ×©×œ ×™\"×‘, ×•×œ×”×ª×¤× ×§ ×¢×œ ××©×”×• ×©××™×™×¦×¨ ×××” ××—×•×– ×©×œ ××•×©×¨ ×˜×”×•×¨."
  },
  "GIFT-18": {
    emoji: "ğŸ‘¡",
    name: "×›×¤×›×¤×™ ×˜×‘×¢ × ××•×ª",
    text: "×œ×¦×¢×•×“ ×‘×‘×™×˜×—×•×Ÿ, ×‘× ×•×—×•×ª ×•×‘×’××•×•×” ×™×©×¨××œ×™×ª ××œ ×¢×‘×¨ ×”×©×™×¨×•×ª ×”×œ××•××™ ×•×›×œ ×™×¢×“ ×©×ª×¦×™×‘×™ ×œ×¢×¦××š. ×”×›×™ ×—×©×•×‘ ×©×™×”×™×” ×œ×š ×‘×¡×™×¡ ×™×¦×™×‘ ×•××™×›×•×ª×™ ×‘×—×™×™×."
  },
  "GIFT-19": {
    emoji: "ğŸ’",
    name: "×¦××™×“ ×•×¢×’×™×œ×™×",
    text: "×ª×–×›×•×¨×ª × ×•×¦×¦×ª ×œ×›×š ×©×”×¢×¨×š ×”×××™×ª×™ ×©×œ×š ×ª××™×“ ××’×™×¢ ××‘×¤× ×™×. ×©×ª××™×“ ×ª×–×¨×—×™ ×•×ª××™×¨×™ ××ª ×”×¡×‘×™×‘×” ×©×œ×š, ×‘×“×™×•×§ ×›××• ×©××ª."
  }
};

var scanner = null;
var scanning = false;

function showPage(id) {
  document.querySelectorAll('.page').forEach(function(p) { 
    p.style.display = 'none';
  });
  var el = document.getElementById(id);
  el.style.display = 'flex';
}

function startScanner() {
  showPage('scanner-page');
  scanning = false;
  scanner = new Html5Qrcode("reader");
  scanner.start(
    { facingMode: "environment" },
    { fps: 10, qrbox: { width: 250, height: 180 } },
    function(decodedText) {
      if (scanning) return;
      scanning = true;
      var code = decodedText.trim();
      try { scanner.stop(); } catch(e) {}
      setTimeout(function() { showBlessing(code); }, 300);
    }
  ).catch(function(err) {
    alert("×œ× ×”×¦×œ×—× ×• ×œ×¤×ª×•×— ××ª ×”××¦×œ××”. ×× × ××©×¨×™ ×’×™×©×” ×œ××¦×œ××” ×•× ×¡×™ ×©× ×™×ª.");
    showPage('welcome-page');
  });
}

function stopScanner() {
  try { if (scanner) scanner.stop(); } catch(e) {}
  scanner = null;
  showPage('welcome-page');
}

function showBlessing(code) {
  var gift = blessings[code];
  if (!gift) {
    alert("×‘×¨×§×•×“ ×œ× ××•×›×¨. × ×¡×™ ×©× ×™×ª!");
    scanning = false;
    startScanner();
    return;
  }
  document.getElementById('blessing-emoji').textContent = gift.emoji;
  document.getElementById('gift-name').textContent = gift.name;
  document.getElementById('blessing-text').textContent = gift.text;
  showPage('blessing-page');
}

function scanAgain() {
  try { if (scanner) scanner.stop(); } catch(e) {}
  scanner = null;
  startScanner();
}
</script>
</body>
</html>
